!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define(["angular"],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.fluxAngular=e()}}(function(){return function e(t,n,r){function i(s,a){if(!n[s]){if(!t[s]){var f="function"==typeof require&&require;if(!a&&f)return f(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return i(n?n:e)},c,c.exports,e,t,n,r)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<r.length;s++)i(r[s]);return i}({1:[function(e){(function(t){var n=t.angular||e("angular"),r=e("./action.js"),i=(e("./EventEmitter.js"),e("./safeDeepClone.js"));n.module("flux",[]).provider("flux",function(){this.$get=["$rootScope",function(e){function t(n,r){var o=[];r.actions=r.actions||[],r.exports=r.exports||{},n&&Array.isArray(n)&&n.forEach(function(e){Object.keys(e).forEach(function(n){switch(n){case"mixins":return t(e.mixins,e);case"actions":r.actions=r.actions.concat(e.actions);break;case"exports":Object.keys(e.exports).forEach(function(t){r.exports[t]=e.exports[t]});break;default:if(r[n])throw new Error("The property: "+n+", already exists. Can not merge mixin with keys: "+Object.keys(e).join(", "));r[n]=e[n]}})}),r.emitChange=function(){o.forEach(function(e){e()}),e.$$phase||e.$apply()},r.emit=function(){e.$broadcast.apply(e,arguments)},r.actions.forEach(function(e){if(!e||!e.handlerName)throw new Error("This is not an action "+e);if(!r[e.handlerName])throw new Error("There is no handler for action: "+e);e.on("trigger",r[e.handlerName].bind(r))});var s={};return Object.keys(r.exports).forEach(function(e){s[e]=function(){return i("[Circular]",[],r.exports[e].apply(r,arguments))}}),s.bindTo=function(e,t){if(!e||!t)throw new Error("You have to pass a scope and a callback to: bindTo()");e.$on("$destroy",function(){o.splice(o.indexOf(t),1)}),o.push(t),t()},s}var n={};return n.actions=function(){return r.apply(null,arguments)},n.store=function(e){return t(e.mixins,e)},n._init=function(){},n}]})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./EventEmitter.js":2,"./action.js":3,"./safeDeepClone.js":4,angular:"angular"}],2:[function(e,t){t.exports=function(){"use strict";function e(){}function t(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function n(e){return function(){return this[e].apply(this,arguments)}}var r=e.prototype,i=this,o=i.EventEmitter;return r.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp){t={};for(n in r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n])}else t=r[e]||(r[e]=[]);return t},r.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},r.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&(t={},t[e]=n),t||n},r.addListener=function(e,n){var r,i=this.getListenersAsObject(e),o="object"==typeof n;for(r in i)i.hasOwnProperty(r)&&-1===t(i[r],n)&&i[r].push(o?n:{listener:n,once:!1});return this},r.on=n("addListener"),r.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},r.once=n("addOnceListener"),r.defineEvent=function(e){return this.getListeners(e),this},r.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},r.removeListener=function(e,n){var r,i,o=this.getListenersAsObject(e);for(i in o)o.hasOwnProperty(i)&&(r=t(o[i],n),-1!==r&&o[i].splice(r,1));return this},r.off=n("removeListener"),r.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},r.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},r.manipulateListeners=function(e,t,n){var r,i,o=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)o.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?o.call(this,r,i):s.call(this,r,i));return this},r.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},r.removeAllListeners=n("removeEvent"),r.emitEvent=function(e,t){var n,r,i,o,s=this.getListenersAsObject(e);for(i in s)if(s.hasOwnProperty(i))for(r=s[i].length;r--;)n=s[i][r],n.once===!0&&this.removeListener(e,n.listener),o=n.listener.apply(this,t||[]),o===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},r.trigger=n("emitEvent"),r.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},r.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},r._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},r._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return i.EventEmitter=o,e},e}.call({})},{}],3:[function(e,t){var n=e("./EventEmitter.js"),r=e("./safeDeepClone.js"),i=function(e){var t=function(){var e=r("[Circular]",[],Array.prototype.slice.call(arguments,0));if(!t._events)throw new Error("You are triggering the action: "+t.handlerName+", and nobody is listening to it yet. Remember to load up the store first");e=["trigger"].concat(e),t.emit.apply(t,e)};for(var i in n.prototype)n.prototype.hasOwnProperty(i)&&(t[i]=n.prototype[i]);return t.handlerName=e,t},o=function(){if(Array.isArray(arguments[0])){var e={};return arguments[0].forEach(function(t){e[t]=i(t)}),e}throw new Error("You are not passing an array to createActions")};t.exports=o},{"./EventEmitter.js":2,"./safeDeepClone.js":4}],4:[function(e,t){function n(e,t,r){var i;if(!r||"object"!=typeof r)return r;if(r instanceof Date)return i=new Date,i.setTime(r.getTime()),i;if(r instanceof Array||r.length){t.push(r),i=[];for(var o=0,s=r.length;s>o;o++)i[o]=t.indexOf(r[o])>=0?e:n(e,t,r[o]);return t.pop(),i}t.push(r),i={},r instanceof Error&&(i.name=r.name,i.message=r.message,i.stack=r.stack);for(var a in r)r.hasOwnProperty(a)&&"$$hashKey"!==a&&(i[a]=t.indexOf(r[a])>=0?e:n(e,t,r[a]));return t.pop(),i}t.exports=n},{}]},{},[1])(1)});